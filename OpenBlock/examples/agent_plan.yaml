project:
  name: "todo-api"
  goal: "Scaffold a FastAPI todo service and run tests"
tasks:
  - name: scaffold-api
    description: "Generate FastAPI application files"
    metadata:
      resource: "Todo"
    code:
      - path: "todo_api/main.py"
        template: |
          from fastapi import FastAPI

          app = FastAPI(title="{project_name}")


          @app.get("/health")
          def health():
              return {{"status": "ok"}}


          @app.get("/todos")
          def list_todos():
              return []
      - path: "todo_api/__init__.py"
        template: |
          """Auto-generated by OpenBlock for {project_name}"""
    commands:
      - "python -m compileall todo_api"
